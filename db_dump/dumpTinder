create schema public;

comment on schema public is 'standard public schema';

alter schema public owner to postgres;

create table users
(
	id serial not null
		constraint users_pk
			primary key,
	name varchar not null,
	surname varchar not null,
	job varchar,
	last_login timestamp default now(),
	password varchar not null,
	status boolean default true,
	email varchar not null
);

alter table users owner to intiqam;

create unique index users_id_uindex
	on users (id);

create unique index users_email_uindex
	on users (email);

create table liked
(
	id serial not null
		constraint liked_pk
			primary key,
	who_id integer not null
		constraint liked___fk_who
			references users,
	whom_id integer not null
		constraint liked___fk_whom
			references users,
	date timestamp default now(),
	status boolean default true
);

alter table liked owner to intiqam;

create unique index liked_id_uindex
	on liked (id);

create table messages
(
	id serial not null
		constraint messages_pk
			primary key,
	"from" integer not null
		constraint messages___fk_from
			references users,
	"to" integer not null
		constraint messages___fk_to
			references users,
	context integer,
	status boolean default true
);

alter table messages owner to intiqam;

create unique index messages_id_uindex
	on messages (id);

create schema public;

comment on schema public is 'standard public schema';

alter schema public owner to postgres;

create table users
(
	id serial not null
		constraint users_pk
			primary key,
	name varchar not null,
	surname varchar not null,
	job varchar,
	last_login timestamp default now(),
	password varchar not null,
	status boolean default true,
	email varchar not null
);

alter table users owner to intiqam;

create unique index users_id_uindex
	on users (id);

create unique index users_email_uindex
	on users (email);

create table liked
(
	id serial not null
		constraint liked_pk
			primary key,
	who_id integer not null
		constraint liked___fk_who
			references users,
	whom_id integer not null
		constraint liked___fk_whom
			references users,
	date timestamp default now(),
	status boolean default true
);

alter table liked owner to intiqam;

create unique index liked_id_uindex
	on liked (id);

create table messages
(
	id serial not null
		constraint messages_pk
			primary key,
	"from" integer not null
		constraint messages___fk_from
			references users,
	"to" integer not null
		constraint messages___fk_to
			references users,
	context integer,
	status boolean default true
);

alter table messages owner to intiqam;

create unique index messages_id_uindex
	on messages (id);

